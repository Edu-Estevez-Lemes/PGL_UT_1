<ion-header translucent="true">
  <ion-toolbar color="dark">
    <ion-title>TapeLab Â· Acceso</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding page-bg">
  <!-- Fondo animado con iconos de cine -->
  <div class="cine-bg">
    <!-- Grupo 1 -->
    <div class="cine-icon i1"><ion-icon name="film-outline"></ion-icon></div>
    <div class="cine-icon i2"><ion-icon name="videocam-outline"></ion-icon></div>
    <div class="cine-icon i3"><ion-icon name="tv-outline"></ion-icon></div>
    <div class="cine-icon i4"><ion-icon name="play-circle-outline"></ion-icon></div>
    <div class="cine-icon i5"><ion-icon name="musical-notes-outline"></ion-icon></div>
    <div class="cine-icon i6"><ion-icon name="disc-outline"></ion-icon></div>
    <div class="cine-icon i7"><ion-icon name="star-outline"></ion-icon></div>

    <!-- Grupo 2 -->
    <div class="cine-icon i8"><ion-icon name="film-outline"></ion-icon></div>
    <div class="cine-icon i9"><ion-icon name="videocam-outline"></ion-icon></div>
    <div class="cine-icon i10"><ion-icon name="star-outline"></ion-icon></div>
    <div class="cine-icon i11"><ion-icon name="play-circle-outline"></ion-icon></div>
    <div class="cine-icon i12"><ion-icon name="tv-outline"></ion-icon></div>
  </div>

  <!-- Contenido del login por encima del fondo -->
  <div class="login-wrapper">
    <div class="logo-zone">
      <img src="assets/img/tapelab-logo.png" class="tapelab-logo" />
      <p id="subtitle1">EL MEJOR CONTENIDO DE ALQUILER</p>
    </div>

    <ion-card class="auth-card">
      <ion-card-header>
        <ion-segment [(ngModel)]="mode" value="login" mode="md">
          <ion-segment-button value="login">
            <ion-label>Sign In</ion-label>
          </ion-segment-button>
          <ion-segment-button value="register">
            <ion-label>Sign Up</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-card-header>

      <ion-card-content>
        <!-- LOGIN -->
        <ng-container *ngIf="mode === 'login'">
          <ion-item>
            <ion-label position="floating">Email</ion-label>
            <ion-input
              [(ngModel)]="loginData.email"
              type="email"
              autocomplete="email"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Password</ion-label>
            <ion-input
              [(ngModel)]="loginData.password"
              type="password"
              autocomplete="current-password"
            ></ion-input>
          </ion-item>

          <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

          <ion-button
            expand="block"
            color="warning"
            class="auth-btn"
            (click)="onLogin()"
          >
            Sign In
          </ion-button>
        </ng-container>

        <!-- REGISTER -->
        <ng-container *ngIf="mode === 'register'">
          <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input [(ngModel)]="registerData.nombre"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Email</ion-label>
            <ion-input
              [(ngModel)]="registerData.email"
              type="email"
              autocomplete="email"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">TelÃ©fono</ion-label>
            <ion-input [(ngModel)]="registerData.telefono"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Password</ion-label>
            <ion-input
              [(ngModel)]="registerData.password"
              type="password"
              autocomplete="new-password"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Repite Password</ion-label>
            <ion-input
              [(ngModel)]="registerData.confirmPassword"
              type="password"
            ></ion-input>
          </ion-item>

          <!-- Botones de foto para el registro -->
          <div class="ion-text-center" style="margin: 1em 0;">
            <ion-button color="warning" (click)="onRegisterTakePhoto()">
              ðŸ“· CÃ¡mara
            </ion-button>
            <ion-button color="medium" (click)="onRegisterPickImage()">
              ðŸ–¼ GalerÃ­a
            </ion-button>
          </div>

          <!-- Preview de la imagen elegida -->
          <div *ngIf="registerImagenPreview" class="ion-text-center">
            <img
              [src]="registerImagenPreview"
              style="max-width: 180px; border-radius: 10px"
            />
          </div>

          <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

          <ion-button
            expand="block"
            color="warning"
            class="auth-btn"
            (click)="onRegister()"
          >
            Crear cuenta
          </ion-button>
        </ng-container>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
